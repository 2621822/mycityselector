My City Selector Joomla Extension
=================================

Package:     component + module + plugins<br>
Version:     2.0.0 beta

##Системные требования

Joomla >= 3.3.0<br>
PHP >= 5.4

## Общие сведения

My City Selector (MCS) - это расширение для CMS Joomla, позволяющее отображать разную информацию для разных городов.

<img src="https://raw.githubusercontent.com/art-programming-team/mycityselector/develop/doc_images/image-1.jpg" alt="" width="100%" />


В новой 2й версии основной упор сделан на использование поддоменов для разных городов, так как это самый
лучший способ разделять контент для разных городов с точки зрения поисковиков.

> *!* Ваш домен должен быть настроен так, чтобы любой произвольный поддомен открывал основной сайт.
> Не нужно создавать много сайтов :) это неверно. Подробнее о настройках домена можно прочитать [тут](https://github.com/art-programming-team/mycityselector/blob/develop/configure_domain.md).

*Примечание: все изображения приводимые здесь основаны на версии Joomla 3.6.x

## Установка

Скачиваете отсюда: https://github.com/art-programming-team/mycityselector/releases

Расширение включает в себя два плагина, компонент и модуль. Все они ставяться одним пакетом, поэтому загруженный архив
распаковывать не нужно. Устанавливайте как есть.

## Как это работает?

Расширение позволяет создавать заготовленные тексты для разных городов и в зависимости от выбранного пользователем города, подставлять
их в страницу. Каждому городу на сайте будет соответствовать свой поддомен, а главный домен будет соответствовать вашему городу
(который вы можете указать в настройках).
Например, ваш сайт krakozyabra.org для вашего родного города по умолчанию. А остальные города на поддоменах:<br>
spb.krakozyabra.org<br>
minsk.krakozyabra.org<br>
kiev.krakozyabra.org<br>
и так далее в соответствии с настройками.

Управление текстами происходит через компонент MyCitySelector в админке, там же и управление списком городов и настройки компонента.

<img src="https://raw.githubusercontent.com/art-programming-team/mycityselector/develop/doc_images/image-2.jpg" alt="" width="100%" />

Часть настроек находится в модуле, который отвечает за отображаемое окно выбора города на сайте.

Для вставки заготовленных текстов на страницы сайта используются специальные маркеры (теги). Всего есть два вида маркеров:

 - [city Город] текст [/city] - из первой версии
 - {mcs-N} - новый маркер, появился во второй версии.

Тег [city] удобен для небольших надписей или сообщений (и для небольшего количества городов). Но если городов много и
информация для каждого своя, то лучше воспользоваться компонентом MSC в админке. Основной недостаток этих тегов в том,
что на одной странице все теги взаимосвязаны и отобразить разную информацию в нескольких местах страницы может быть
невозможным. Но в то же время, они могут быть незаменимы, если вам нужно включать разные позиции модулей для разных городов.
Например так:

```
[city Омск]<jdoc:include type="modules" name="demo1" style="" />[/city]
[city Чита]<jdoc:include type="modules" name="demo2" style="" />[/city]
```

В этом случае, при выборе города "Омск" будут отображаться все модули из позиции "demo1", а при выборе города "Чита" - из "demo2".
Советуем использовать их только при необходимости.

Маркеры {mcs-ID} более продвинутые. Их может быть много на одной странице и у каждого свои условия по городам. Кроме того,
вам не нужно вводить их вручную. В редакторе Вы можете найти кнопку для вставки маркера в текущую позицию курсора.

<img src="https://raw.githubusercontent.com/art-programming-team/mycityselector/develop/doc_images/image-3.jpg" alt="" width="100%" />

пум пурум, продолжение следует...

## Кастомизация

Изменить внешний вид шаблона модуля можно двумя способами:

 - переопределение шаблона модуля из админки
 - создание своего шаблона
 
Первый способ достаточно прост, необходимо зайти в менеджер шаблонов сайта, кликнуть по названию своего текущего шаблона перейти во вкладку "Переопределение", найти в списке модуль "mod_mycityselector" и кликнуть по нему. После чего в папке шаблона сайта появится копия шаблона модуля. Его можно будет менять как вам вздумается.

Второй способ в общем-то делается также как и первый, но после дублирования также необходимо переименовать файлы шаблона (придумать свое имя для шаблона) и на основе данной копии сделать свой шаблон.

Примечание: javascript файл подключаемый в шаблоне заточен под его верстку, следовательно, его придется корректировать под свою верстку.


*Если вам кажется, что некоторые моменты можно бы было описать лучше или где-то закралась неточность, то можете написать мне об этом на почту или сделать pull request.*


##Благодарности

Спасибо [Vlad-Online](https://github.com/Vlad-Online) за огромную помощь в написании второй версии расширения!
Спасибо [Renderlife](https://github.com/renderlife) за новый дизайн модуля.
Спасибо [мне](https://github.com/adamasantares), за то, что не бросил начатое :)
И конечно же, спасибо всем, кто помогал в тестировании и/или делал пожертвования.
